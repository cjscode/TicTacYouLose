var c=localStorage.getItem("_W")?localStorage.getItem("_W"):0,d=localStorage.getItem("_L")?localStorage.getItem("_L"):0,f=[0,0,0,0,0,0,0,0,0],k=0;function l(a){return a[0]==a[1]&&a[1]==a[2]&&0!=a[0]?a[0]:a[3]==a[4]&&a[4]==a[5]&&0!=a[3]?a[3]:a[6]==a[7]&&a[7]==a[8]&&0!=a[6]?a[6]:a[0]==a[4]&&a[4]==a[8]&&0!=a[0]?a[0]:a[2]==a[4]&&a[4]==a[6]&&0!=a[2]?a[2]:a[1]==a[4]&&a[4]==a[7]&&0!=a[1]?a[1]:a[2]==a[5]&&a[5]==a[8]&&0!=a[2]?a[2]:a[0]==a[3]&&a[3]==a[6]&&0!=a[0]?a[0]:0};function m(){var a=f;a=a.slice(0,8);var b=[0,0,0,0,0,0,0,0,0];a.forEach(function(g,e){0==g&&(a[e]=2,2==l(a)?b[e]+=100:(console.log(a),a.forEach(function(n,h){0==n&&(a[h]=1,1==l(a)&&(b[h]+=10),a[h]=0)})),a[e]=0)});console.log(b);return b}function p(){var a=m(),b=-Infinity,g=0;a.forEach(function(e,n){e>=b&&(b=e,g=n)});return g}function q(){k+=1;var a=p();document.querySelector("#spot"+a).classList.add("black");f[a]=2};function r(){localStorage.setItem("_W",c);localStorage.setItem("_L",d);document.querySelector("#wl").innerHTML="Wins: "+c+" - Losses: "+d;f=[0,0,0,0,0,0,0,0,0];document.querySelectorAll(".spot").forEach(function(a){a.classList.remove(a.classList.contains("white")?"white":"black")});k=0}r();function t(a){0==f[a]&&9>k&&1!=l(f)&&2!=l(f)&&(k+=1,document.querySelector("#spot"+a).classList.add("white"),f[a]=1,8<k?setTimeout(function(){alert("Tie!");r()},750):(0==l(f)&&q(),1==l(f)?setTimeout(function(){alert("You won!");c++;r()},750):2==l(f)&&setTimeout(function(){alert("The Algorithm won!");d++;r()},750)))}document.querySelectorAll(".spot").forEach(function(a,b){a.style.left=b%3*30+"vmin";a.addEventListener("click",function(){t(b)})});