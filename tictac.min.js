var c=localStorage.getItem("_W")?localStorage.getItem("_W"):0,g=localStorage.getItem("_L")?localStorage.getItem("_L"):0,h=[0,0,0,0,0,0,0,0,0],k=0;function l(a){return a[0]==a[1]&&a[1]==a[2]&&0!=a[0]?a[0]:a[3]==a[4]&&a[4]==a[5]&&0!=a[3]?a[3]:a[6]==a[7]&&a[7]==a[8]&&0!=a[6]?a[6]:a[0]==a[4]&&a[4]==a[8]&&0!=a[0]?a[0]:a[2]==a[4]&&a[4]==a[6]&&0!=a[2]?a[2]:a[1]==a[4]&&a[4]==a[7]&&0!=a[1]?a[1]:a[2]==a[5]&&a[5]==a[8]&&0!=a[2]?a[2]:a[0]==a[3]&&a[3]==a[6]&&0!=a[0]?a[0]:0};function m(a){var b=h;b[a]=2;for(var e=0,d=0;9>d;d++)if(0==b[d]){b[d]=1;var f=l(b);1==f?e-=10:2==f&&(e+=10);b[d]=0}b[a]=0;return e}function p(){k+=1;if(0==h[4])h[4]=2,document.querySelector("#spot4").classList.add("black");else{for(var a=[],b=0;9>b;b++)0==h[b]&&(a[b]=m(b));var e=0,d=-11;a.forEach(function(f,n){f>d?(d=f,e=n):f==d&&.5<Math.random()&&(d=f,e=n)});h[e]=2;document.querySelector("#spot"+e).classList.add("black")}};function q(){localStorage.setItem("_W",c);localStorage.setItem("_L",g);document.querySelector("#wl").innerHTML="Wins: "+c+" - Losses: "+g;h=[0,0,0,0,0,0,0,0,0];document.querySelectorAll(".spot").forEach(function(a){a.classList.remove(a.classList.contains("white")?"white":"black")});k=0}q();function r(a){0==h[a]&&9>k&&1!=l(h)&&2!=l(h)&&(k+=1,document.querySelector("#spot"+a).classList.add("white"),h[a]=1,8<k?setTimeout(function(){alert("Tie!");q()},750):(0==l(h)&&p(),1==l(h)?setTimeout(function(){alert("You won!");c++;q()},750):2==l(h)&&setTimeout(function(){alert("The Algorithm won!");g++;q()},750)))}document.querySelectorAll(".spot").forEach(function(a,b){a.style.left=b%3*30+"vmin";a.addEventListener("click",function(){r(b)})});